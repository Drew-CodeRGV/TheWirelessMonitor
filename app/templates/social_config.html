{% extends "base.html" %}

{% block title %}The Wireless Monitor - Social Media Configuration{% endblock %}

{% block content %}
<div class="section-header">Social Media Configuration</div>

<div class="articles-grid">
    <div class="main-articles">
        <article class="newspaper-article">
            <h3 class="article-headline">Configure Your Social Media Accounts</h3>
            <div class="article-byline">
                Set up your social media handles for article sharing and attribution
            </div>
            
            <form method="POST" action="{{ url_for('update_social_config') }}" style="margin: 25px 0;">
                <!-- Twitter/X Configuration -->
                <div style="margin-bottom: 30px; padding: 20px; border: 2px solid #1DA1F2; background: #f8f9ff;">
                    <h4 style="margin: 0 0 15px 0; color: #1DA1F2;">
                        <i class="fab fa-twitter"></i> Twitter/X Configuration
                    </h4>
                    <div style="margin-bottom: 15px;">
                        <label style="display: block; font-weight: bold; margin-bottom: 5px;">
                            <input type="checkbox" name="twitter_enabled" value="1" 
                                   {% if platforms|selectattr('platform', 'equalto', 'twitter')|first.enabled %}checked{% endif %}
                                   style="margin-right: 8px;">
                            Enable Twitter/X Sharing
                        </label>
                    </div>
                    <div style="margin-bottom: 10px;">
                        <label style="display: block; font-weight: bold; margin-bottom: 5px;">Twitter Handle (without @):</label>
                        <input type="text" name="twitter_handle" 
                               value="{{ platforms|selectattr('platform', 'equalto', 'twitter')|first.handle or '' }}"
                               placeholder="wirelessnerd" 
                               style="width: 100%; padding: 8px; border: 1px solid #ccc; font-size: 1rem;">
                    </div>
                    <small style="color: #666;">
                        Used for attribution in tweets. Example: "via @yourhandle"
                    </small>
                </div>
                
                <!-- LinkedIn Configuration -->
                <div style="margin-bottom: 30px; padding: 20px; border: 2px solid #0077B5; background: #f8fbff;">
                    <h4 style="margin: 0 0 15px 0; color: #0077B5;">
                        <i class="fab fa-linkedin"></i> LinkedIn Configuration
                    </h4>
                    <div style="margin-bottom: 15px;">
                        <label style="display: block; font-weight: bold; margin-bottom: 5px;">
                            <input type="checkbox" name="linkedin_enabled" value="1" 
                                   {% if platforms|selectattr('platform', 'equalto', 'linkedin')|first.enabled %}checked{% endif %}
                                   style="margin-right: 8px;">
                            Enable LinkedIn Sharing
                        </label>
                    </div>
                    <div style="margin-bottom: 10px;">
                        <label style="display: block; font-weight: bold; margin-bottom: 5px;">LinkedIn Profile Name:</label>
                        <input type="text" name="linkedin_handle" 
                               value="{{ platforms|selectattr('platform', 'equalto', 'linkedin')|first.handle or '' }}"
                               placeholder="drew-lentz-wireless" 
                               style="width: 100%; padding: 8px; border: 1px solid #ccc; font-size: 1rem;">
                    </div>
                    <small style="color: #666;">
                        Your LinkedIn profile name (from your profile URL). Used for professional sharing with thumbnails.
                    </small>
                </div>
                
                <!-- Instagram Configuration -->
                <div style="margin-bottom: 30px; padding: 20px; border: 2px solid #E4405F; background: #fff8fa;">
                    <h4 style="margin: 0 0 15px 0; color: #E4405F;">
                        <i class="fab fa-instagram"></i> Instagram Configuration
                    </h4>
                    <div style="margin-bottom: 15px;">
                        <label style="display: block; font-weight: bold; margin-bottom: 5px;">
                            <input type="checkbox" name="instagram_enabled" value="1" 
                                   {% if platforms|selectattr('platform', 'equalto', 'instagram')|first.enabled %}checked{% endif %}
                                   style="margin-right: 8px;">
                            Enable Instagram Sharing
                        </label>
                    </div>
                    <div style="margin-bottom: 10px;">
                        <label style="display: block; font-weight: bold; margin-bottom: 5px;">Instagram Handle (without @):</label>
                        <input type="text" name="instagram_handle" 
                               value="{{ platforms|selectattr('platform', 'equalto', 'instagram')|first.handle or '' }}"
                               placeholder="wirelessnerd" 
                               style="width: 100%; padding: 8px; border: 1px solid #ccc; font-size: 1rem;">
                    </div>
                    <small style="color: #666;">
                        Used for attribution in Instagram posts. Provides copy text and suggests key images for posts.
                    </small>
                </div>
                
                <!-- Facebook Configuration -->
                <div style="margin-bottom: 30px; padding: 20px; border: 2px solid #1877F2; background: #f8f9ff;">
                    <h4 style="margin: 0 0 15px 0; color: #1877F2;">
                        <i class="fab fa-facebook"></i> Facebook Configuration
                    </h4>
                    <div style="margin-bottom: 15px;">
                        <label style="display: block; font-weight: bold; margin-bottom: 5px;">
                            <input type="checkbox" name="facebook_enabled" value="1" 
                                   {% if platforms|selectattr('platform', 'equalto', 'facebook')|first.enabled %}checked{% endif %}
                                   style="margin-right: 8px;">
                            Enable Facebook Sharing
                        </label>
                    </div>
                    <div style="margin-bottom: 10px;">
                        <label style="display: block; font-weight: bold; margin-bottom: 5px;">Facebook Page/Profile:</label>
                        <input type="text" name="facebook_handle" 
                               value="{{ platforms|selectattr('platform', 'equalto', 'facebook')|first.handle or '' }}"
                               placeholder="WirelessNerdPage" 
                               style="width: 100%; padding: 8px; border: 1px solid #ccc; font-size: 1rem;">
                    </div>
                    <small style="color: #666;">
                        Your Facebook page or profile name for attribution.
                    </small>
                </div>
                
                <!-- Mastodon Configuration -->
                <div style="margin-bottom: 30px; padding: 20px; border: 2px solid #6364FF; background: #f8f8ff;">
                    <h4 style="margin: 0 0 15px 0; color: #6364FF;">
                        <i class="fab fa-mastodon"></i> Mastodon Configuration
                    </h4>
                    <div style="margin-bottom: 15px;">
                        <label style="display: block; font-weight: bold; margin-bottom: 5px;">
                            <input type="checkbox" name="mastodon_enabled" value="1" 
                                   {% if platforms|selectattr('platform', 'equalto', 'mastodon')|first.enabled %}checked{% endif %}
                                   style="margin-right: 8px;">
                            Enable Mastodon Sharing
                        </label>
                    </div>
                    <div style="margin-bottom: 10px;">
                        <label style="display: block; font-weight: bold; margin-bottom: 5px;">Mastodon Handle (with instance):</label>
                        <input type="text" name="mastodon_handle" 
                               value="{{ platforms|selectattr('platform', 'equalto', 'mastodon')|first.handle or '' }}"
                               placeholder="@wirelessnerd@mastodon.social" 
                               style="width: 100%; padding: 8px; border: 1px solid #ccc; font-size: 1rem;">
                    </div>
                    <small style="color: #666;">
                        Your full Mastodon handle including the instance (e.g., @username@instance.com).
                    </small>
                </div>
                
                <!-- Save Button -->
                <div style="text-align: center; margin: 30px 0; padding: 20px; border-top: 2px solid #000;">
                    <button type="submit" 
                            style="background: #000; color: white; border: none; padding: 15px 40px; font-size: 1.1rem; font-weight: bold; cursor: pointer;">
                        üíæ Save Social Media Configuration
                    </button>
                </div>
            </form>
        </article>
        
        <!-- Sharing Features Info -->
        <article class="newspaper-article">
            <h3 class="article-headline">Social Media Sharing Features</h3>
            <div class="article-byline">
                How your social media configuration enhances article sharing
            </div>
            
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 25px; margin: 20px 0;">
                <div>
                    <h4 style="border-bottom: 2px solid #000; padding-bottom: 5px;">Twitter/X Features</h4>
                    <ul style="list-style: none; padding: 0;">
                        <li>‚úì Automatic tweet composition</li>
                        <li>‚úì Hashtag inclusion (#WirelessTech #WiFi)</li>
                        <li>‚úì Handle attribution</li>
                        <li>‚úì Article thumbnails</li>
                        <li>‚úì Character count optimization</li>
                    </ul>
                </div>
                <div>
                    <h4 style="border-bottom: 2px solid #000; padding-bottom: 5px;">LinkedIn Features</h4>
                    <ul style="list-style: none; padding: 0;">
                        <li>‚úì Professional article sharing</li>
                        <li>‚úì Rich preview thumbnails</li>
                        <li>‚úì Industry-focused content</li>
                        <li>‚úì Profile attribution</li>
                        <li>‚úì Business network reach</li>
                    </ul>
                </div>
                <div>
                    <h4 style="border-bottom: 2px solid #000; padding-bottom: 5px;">Instagram Features</h4>
                    <ul style="list-style: none; padding: 0;">
                        <li>‚úì Copy-ready post text</li>
                        <li>‚úì Hashtag suggestions</li>
                        <li>‚úì Key image recommendations</li>
                        <li>‚úì Handle attribution</li>
                        <li>‚úì Visual content focus</li>
                    </ul>
                </div>
                <div>
                    <h4 style="border-bottom: 2px solid #000; padding-bottom: 5px;">General Features</h4>
                    <ul style="list-style: none; padding: 0;">
                        <li>‚úì One-click sharing buttons</li>
                        <li>‚úì Automatic URL shortening</li>
                        <li>‚úì Platform-optimized content</li>
                        <li>‚úì Attribution tracking</li>
                        <li>‚úì Mobile-friendly sharing</li>
                    </ul>
                </div>
            </div>
        </article>
    </div>
    
    <div class="sidebar">
        <!-- Current Configuration -->
        <div class="sidebar-box">
            <div class="sidebar-header">Current Setup</div>
            <div class="sidebar-content">
                {% for platform in platforms %}
                <div class="sidebar-item">
                    <strong>{{ platform.display_name }}:</strong><br>
                    {% if platform.enabled and platform.handle %}
                        <span style="color: green;">‚úì Enabled</span><br>
                        <small>@{{ platform.handle }}</small>
                    {% elif platform.enabled %}
                        <span style="color: orange;">‚ö† Enabled (No Handle)</span>
                    {% else %}
                        <span style="color: #666;">‚úó Disabled</span>
                    {% endif %}
                </div>
                {% endfor %}
            </div>
        </div>
        
        <!-- Tips -->
        <div class="sidebar-box">
            <div class="sidebar-header">Configuration Tips</div>
            <div class="sidebar-content">
                <div class="sidebar-item">
                    <strong>Twitter/X:</strong> Use your actual handle for proper attribution and mentions.
                </div>
                <div class="sidebar-item">
                    <strong>LinkedIn:</strong> Use your profile name from your LinkedIn URL for professional sharing.
                </div>
                <div class="sidebar-item">
                    <strong>Instagram:</strong> Provides copy text since Instagram doesn't support direct link sharing.
                </div>
                <div class="sidebar-item">
                    <strong>Images:</strong> Article images are automatically used as thumbnails where supported.
                </div>
            </div>
        </div>
        
        <!-- Navigation -->
        <div class="sidebar-box">
            <div class="sidebar-header">Admin Navigation</div>
            <div class="sidebar-content">
                <div class="sidebar-item">
                    <a href="{{ url_for('admin_console') }}">‚öôÔ∏è Admin Console</a>
                </div>
                <div class="sidebar-item">
                    <a href="{{ url_for('manage_feeds') }}">üì° Manage Feeds</a>
                </div>
                <div class="sidebar-item">
                    <a href="{{ url_for('github_config') }}">üêô GitHub</a>
                </div>
                <div class="sidebar-item">
                    <a href="{{ url_for('index') }}">üì∞ Front Page</a>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}